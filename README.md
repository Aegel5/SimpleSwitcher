# ![изображение](https://github.com/user-attachments/assets/a36dfe16-5318-4463-b4c0-c76029dfe742) SimpleSwitcher 
![GitHub release (latest by date)](https://img.shields.io/github/v/release/alexzh2/SimpleSwitcher?style=plastic)
![GitHub all releases](https://img.shields.io/github/downloads/alexzh2/SimpleSwitcher/total?style=plastic)
![GitHub last commit](https://img.shields.io/github/last-commit/alexzh2/SimpleSwitcher?style=plastic)


Simple Switcher - переключатель клавиатуры ⌨️ для быстрого исправления языка набранного текста в Windows. Полностью открыт и бесплатен, написан на современном `С++ 23`, турбо-реактивен 🏎️ и никак не сказывается на работе ОС. Список фич небольшой, но он постоянно пополняется.

Начиная с версий 6.x, была добавлена `Напоминалка`. Основное отличие от всех подобных программ - срабатывает ВСЕГДА, даже если компьютер был выключен на время срабатывания события, т.е. пропустить невозможно. Удобна для любых периодических дел, или же просто как таймер. Полезные идеи для напоминалки: ежемесячные бонусы по картам, взносы по кредиткам, отключение платных подписок, дни рождения, и т.д.

## Основные возможности

- Умеет работать в программах, запущенных от администратора. 
- Удерживая клавишу Shift, можно исправлять несколько слов подряд.
- Возможность использовать практически любые клавиши и комбинации клавиш, например, Capslock, Scrolllock, RAlt, Ctrl #up, LWin + ... для любой функции программы.
- Безопасность: всегда очищает или восстанавливает буфер обмена после использования, очищает память по таймеру.
- Показывает флаги стран в трее в высоком разрешении.
- Отключение accessibility функциональности Windows (например, отключения залипания после нажатия 5-ти Shift подряд).
- Смена регистра выделенного текста.

## Download & Install

Для получения последней версии нужно сбилдить из исходного кода (требуется `Visual Studio 2022`).

Также можно скачать: 
- Последняя 6.x версия: https://github.com/Aegel5/SimpleSwitcher/releases
- Последняя 5.x (стабильная) версия: https://github.com/Aegel5/SimpleSwitcher/releases/tag/5.394
- Последняя 3.x (scancode remap для любых клавиш): https://github.com/Aegel5/SimpleSwitcher/releases/tag/3.0.0.8

## Сборка из исходного кода:
 - Скачать zip-архив master ветки.
 - Установить `Visual Studio 2022`. Необходим компонент C++.
 - Открыть проект как ПАПКУ в Visual Studio. Cбилдить `x64 Release` конфигурацию. Файл будет: `out\x64-release\SimpleSwitcher.exe`. Флаги подкидываются вручную.
 - [Опционально] Установить python и выполнить build.py. Полностью собранный пакет будет в папке `package_build/OUT`

## Известные ограничения
- При одновременном назначении (`hotkey` | `hotkey #up`) и `hotkey #double` будет применена задержка 280 ms (параметр конфига `quick_press_ms`)
- `LAlt + ...` - может работать неправильно.
- `Win + CapsLock` - хот-кей работает некорректно.
- `Ctrl + Break` = `Cancel` - это особенность Windows

## Использование CapsLock
_Рекомендуется:_ 
- Использовать клавишу CapsLock для исправления раскладки.
- Для активации режима CapsLock использовать Win + CapsLock или LAlt + CapsLock или назначить комбинацию в программе.

_Также возможно:_
- Сначала нужно переназначить CapsLock на клавишу F24 (вкладка Key Remap)
- Перезагрузить Windows
- Назначить клавишу F24 на требуемую функцию
- [Опционально] Назначить клавишу на срабатывание настоящего CapsLock (по умолчанию Ctrl + F24).
- Перед удалением программы, нужно снять галочку Remap CapsLock, чтобы вернуть исходное состояние.

## Альтернативный режим переключения (эмуляция Alt+Shift)
Если основной режим работает некорректно, то можно использовать альтернативный режим.
Если в системе всего 2 или 3 раскладки, то можно просто указать хот-кей циклической смены языка в ОС (по-умолчанию Alt+Shift). Для 3-х и более раскладок, рекомендуется настроить хот-кей на каждый язык, как в ОС, так и в SS. Alt+Shift+1 - включить первый язык, Alt+Shift+2 - второй язык и т.д. Без такой настройки SS будет последовательно перебирать все языки, пока не найдет нужный и это может приводить к ошибкам.

## Разделение текста на слова
При нажатии клавиши, которая продуцирует разные символы на разных раскладках разделение проходит по следующим правилам:
- Если все символы это буквы или цифры - разделение не происходит.
- Если все символы это НЕ буквы или цифры - разделение происходит.
- В остальных случаях (например, клавиша эЭ'") разделение происходит в зависимости от настроек (по умолчанию не разделяется).

Если разделение слов вообще не требуется, можно использовать функцию "Исправить весь недавно введенный текст".

## Пользовательские флаги
Для добавления пользовательских флагов необходимо создать папку `flags` рядом с `SimpleSwitcher.exe`. Пример.
```text
flags
  My_Set
    en-US
      16.png
      32.png
    ru
      16.png
      32.png
```
- Поддерживаемые форматы: PNG (рекомендуется), JPG, BMP
- Поддерживаются папка с файлами разного размера. В случае если на одну локаль будет найдено несколько флагов разного размера - выбирается наиболее подходящий.
- Название папки должно совпадать с идентификатора локали в формате BCP-47 (язык-регион) или с идентификатором языка, если регион не важен.
- Размер - любой, но рекомендуется добавлять 16x16 и (24x24, 32x32) для high dpi.

## Отключение Ctrl + LAlt как RAlt на расширенных раскладках
Подробнее: https://github.com/Aegel5/SimpleSwitcher/issues/54

## Работа при удаленном подключении
По умолчанию локальный Simple Switcher будет перехватывать все нажатые клавиши, отправленные на удаленный компьютер. Если это поведение не желательно (например на локальном компьютере стоит свой SS), то это можно запретить одним из следующих методов:
- Для RDP полноэкранного режима можно установить настройку SkipLowLevelInjectKeys.
- Для RDP можно добавить процесс mstsc.exe в исключения.
- Для других клиентов, добавить их клиентские процессы в исключения.

## Исключения для программ
Настройка пока только через `SimpleSwitcher.json`. Пример
```json
"disableInPrograms": [
    "game1.exe",
    "c:/game2.exe"
],
```

## Запуск произволных процессов по хот-кею
Настройка пока только через `SimpleSwitcher.json`. Пример
```json
"run_programs": [
    {
        "args": "",
        "elevated": false,
        "hotkey": "LWin + C",
        "path": "calc.exe"
    }
]
```

## 📟 Принять участие в разработке
Если есть минимальные знания C++, то можно исправить баг / реализовать фичу или же просто немного улучшить код программы.
Также всегда приветствуются пулл-реквесты с исправлением/переводом интерфейса, обновления докуменатации и т.д. Можно исправить/улучшить иконку или полностью нарисовать новую, если есть идея.

## License
<a href="LICENSE">GPL-3.0 License</a>  

## Donate
Если вам нравится программа, и вы хотите поддержать ее развитие:
- 2202 2050 0289 5834, CберБанк, Александр Ж. (Рекомендуется)
- [https://yoomoney.ru/bill/pay/19AFP3RQA50.250330](https://yoomoney.ru/to/410013286626983)
- https://dalink.to/alekseshka

## 🌟 Особая благодарность! (не полный список)
- Петр
- nnmdd 
- Сергій Куліков
- Иван
